webpackJsonp([3],{"Q+b0":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("//Fk"),n=e.n(i),s=e("Xxa5"),r=e.n(s),o=e("exGp"),c=e.n(o),l=e("d7EF"),u=e.n(l),d=e("Dd8w"),p=e.n(d),h=e("7+uW"),f=e("rdLu"),m=e.n(f),v=e("NYxO"),y=e("YXC6"),x=e("XLwt"),b=e.n(x),_={xAxis:{show:!1,data:[],axisLabel:{formatter:""}},yAxis:{},grid:{backgroundColor:"#FFF",right:250}},g={type:"line",animation:!1,smooth:!1,lineStyle:{width:2},itemStyle:{opacity:"0.01",color:"#fff",borderWidth:0,borderColor:"#fff"}},C={data:function(){return{$chart:null,colors:["#02B000","#4264FB","#F000BC","#FFC900","#7EC5FF"],allTimeType:[{value:"1",text:"1天"},{value:"7",text:"1周"},{value:"30",text:"1月"},{value:"60",text:"2月"},{value:"180",text:"6月"},{value:"365",text:"1年"},{value:"all",text:"全部"}],timeType:"7"}},components:{NewsItem:y.a},computed:p()({},Object(v.b)({detail:function(t){return t.page.coinDetail.detail},news:function(t){return t.page.coinDetail.news}}),{basic:function(){return this.detail.basic||{}},chartDataList:function(){var t={name:"价格",data:[]},a={name:"市值",data:[]},e={name:"成交量(24h)",data:[]};return(this.detail.coordinate||[]).forEach(function(i){t.data.push(i.price),a.data.push(i.marketcap),e.data.push(i.volume_24h)}),[t,a,e]},chartData:function(){var t=this,a=p()({},_,{yAxis:[],series:[]}),e=[{type:"left",offset:0},{type:"right",offset:0},{type:"right",offset:100}];return this.chartDataList.forEach(function(i,n){var s=t.colors[n%t.colors.length],r=m.a.min(i.data)-(1!==n?100:0);r<0&&(r=0),a.yAxis.push(p()({},_.yAxis,{color:s,name:i.name,min:r,max:m.a.max(i.data)+1,axisLabel:{formatter:"${value}"},axisLine:{lineStyle:{color:s}},splitLine:{show:!n},position:e[n].type,offset:e[n].offset})),a.series.push(p()({},g,{yAxisIndex:n,name:i.name,data:i.data,lineStyle:p()({},g.lineStyle,{color:s})}))}),a.xAxis.data=(this.detail.coordinate||[]).map(function(t){return t.time}),a.tooltip={trigger:"axis",axisPointer:{type:"cross"},formatter:function(a){var e=u()(a,3),i=e[0],n=e[1],s=e[2];return"\n              "+i.name+'\n              <br />\n              <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t.colors[0]+';"></span>\n              价格: '+h.a.filter("currency")(i.value,"$")+'\n              <br />\n              <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t.colors[1]+';"></span>\n              市值: '+h.a.filter("currency")(n.value,"$")+'\n              <br />\n              <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t.colors[2]+';"></span>\n              成交量(24h): '+h.a.filter("currency")(s.value,"$")+"\n            "}},a}}),methods:{loadDetail:function(){var t=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$store.dispatch("getCoinDetail",{id:t.$route.params.id,day:t.timeType});case 1:case"end":return a.stop()}},a,t)}))()},loadData:function(){var t=this;return c()(r.a.mark(function a(){var e;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.$route.params.id,a.next=3,n.a.all([t.loadDetail(),t.$store.dispatch("getCoinNews",e)]);case 3:case"end":return a.stop()}},a,t)}))()},changeTimeType:function(t){this.timeType=t,this.loadDetail()}},mounted:function(){var t=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$store.commit("setNavbar",1),a.next=3,t.loadData();case 3:t.$chart=b.a.init(t.$refs.canvas),t.$chart.setOption(t.chartData);case 5:case"end":return a.stop()}},a,t)}))()},watch:{detail:function(t){this.$chart.setOption(this.chartData)},$route:function(t,a){t.params.id!=a.params.id&&this.loadData()}},destroyed:function(){this.$chart&&this.$chart.clear()}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("layout",{attrs:{fullwidth:""}},[e("topbar",{attrs:{slot:"topbar"},slot:"topbar"}),t._v(" "),e("div",{staticClass:"coin-detail"},[e("div",{staticClass:"inner"},[e("h1",{staticClass:"title"},[e("img",{attrs:{src:t.basic.image}}),t._v("\n        "+t._s(t.basic.name)+"-"+t._s(t.basic.symbol)+"\n        "),e("span",[t._v("\n          当前价格："+t._s(t._f("currency")(t.basic.price))+" ("+t._s(t.basic.change_24h)+"%)\n        ")])]),t._v(" "),e("div",{staticClass:"number"},[e("div",{staticClass:"non-item"},[e("span",{staticClass:"btn primary"},[t._v("市值")]),t._v(" "),e("span",{staticClass:"nonid"},[t._v(t._s(t._f("currency")(t.basic.marketcap)))])]),t._v(" "),e("div",{staticClass:"non-item"},[e("span",{staticClass:"btn primary"},[t._v("成交量(24h)")]),t._v(" "),e("span",{staticClass:"nonid"},[t._v(t._s(t._f("currency")(t.basic.volume_24h)))])]),t._v(" "),e("div",{staticClass:"non-item"},[e("span",{staticClass:"btn primary"},[t._v("总供应量")]),t._v(" "),e("span",{staticClass:"nonid"},[t._v(t._s(t.basic.circulating_supply))])]),t._v(" "),e("div",{staticClass:"clearfix"})]),t._v(" "),e("div",{staticClass:"coin-chart"},[e("div",{staticClass:"actions"},t._l(t.allTimeType,function(a){return e("button",{key:a.value,staticClass:"btn",class:t.timeType===a.value?"primary":"default",on:{click:function(e){t.changeTimeType(a.value)}}},[t._v("\n            "+t._s(a.text)+"\n          ")])})),t._v(" "),e("div",{staticClass:"chart-detail"},[e("div",{ref:"canvas",staticClass:"chart"})]),t._v(" "),e("div",{staticClass:"relate-coin"},t._l(t.news,function(t){return e("news-item",{key:t.id,attrs:{imgUrl:t.image,title:t.title,forceDesc:!0,link:"/post/"+t.id,description:t.summary,location:t.media,locationLink:t.url,time:t.ctime,spread:t.propagation,tags:[]}})}))])])]),t._v(" "),e("footerBar",{attrs:{slot:"footer"},slot:"footer"})],1)},staticRenderFns:[]};var k=e("VU/8")(C,w,!1,function(t){e("jGLA")},"data-v-54678444",null);a.default=k.exports},jGLA:function(t,a){}});