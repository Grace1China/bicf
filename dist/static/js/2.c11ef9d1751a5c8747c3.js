webpackJsonp([2],{"5Rhg":function(t,i){},H5YJ:function(t,i){},el11:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),r=a("rdLu"),e=a.n(r),c=a("NYxO"),o=a("XLwt"),l=a.n(o),d={xAxis:{show:!1,data:[]},yAxis:{show:!1},grid:{top:0,left:0}},h={type:"line",smooth:!0,lineStyle:{width:2,color:"#4264FB",opacity:"1"},animation:!1,itemStyle:{opacity:"0",color:"#fff",borderWidth:0,borderColor:"#fff"}},u={props:{width:Number,height:Number,data:{type:Array,default:[]}},data:function(){return{$chart:null,timer:null}},computed:{chartData:function(){var t=s()({width:130,height:30},d,{series:[],yAxis:s()({},d.yAxis,{min:e.a.min(this.data),max:e.a.max(this.data)})});return t.series.push(s()({},h,{data:this.data})),t}},mounted:function(){var t=this;this.timer=setTimeout(function(){t.$chart=l.a.init(t.$refs.chart),t.$chart.setOption(t.chartData),t.timer=null},200)},watch:{data:function(t){}},destroyed:function(){this.$chart&&this.$chart.clear(),this.timer&&clearTimeout(this.timer)}},v={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"mini-chart"},[i("div",{ref:"chart",staticClass:"chart"})])},staticRenderFns:[]};var f=["marketcap","price","volume_24h","change_24h","range"],m={data:function(){return{orderBy:"rank",orderAsc:!0,page:1,limit:100,loading:!1,cacheList:[]}},components:{MiniChart:a("VU/8")(u,v,!1,function(t){a("5Rhg")},"data-v-1282ccb4",null).exports},computed:s()({},Object(c.b)({coinlist:function(t){return t.page.coin.list}}),{list:function(){var t=void 0,i=t=this.coinlist.length===this.cacheList.length?this.cacheList:this.coinlist.map(function(t,i){return s()({rank:i+1,chart:(t.coordinate||[]).map(function(t){return t.price})},t)});switch(this.orderBy){case"rank":i=e.a.sortBy(t,function(t){return t.rank});break;case"name":i=e.a.sortBy(t,function(t,i){return t.name.toLowerCase()});break;case"marketcap":i=e.a.sortBy(t,function(t){return t.marketcap});break;case"price":i=e.a.sortBy(t,function(t){return t.price});break;case"volume_24h":i=e.a.sortBy(t,function(t){return t.volume_24h});break;case"change_24h":i=e.a.sortBy(t,function(t){return t.change_24h});break;case"range":i=e.a.sortBy(t,function(t){var i=e.a.min(t.chart);return e.a.max(t.chart)-i})}return this.orderAsc||(i=i.reverse()),i}}),methods:{load:function(){var t=this;this.loading=!0,this.$store.dispatch("getCoins",{limit:this.limit,page:this.page++}).then(function(){t.loading=!1})},setOrder:function(t){this.orderBy===t?this.orderAsc=!this.orderAsc:(this.orderBy=t,this.orderAsc=!f.includes(t))},checkLoad:function(t){this.loading||(this.$refs.loadMore&&this.$refs.loadMore.getBoundingClientRect&&this.$refs.loadMore.getBoundingClientRect()).top-window.innerHeight<1e3&&(this.loading=!0,this.load())}},mounted:function(){this.$store.commit("setNavbar",1),this.load(),window.addEventListener("scroll",this.checkLoad),window.dispatchEvent(new Event("scroll"))},destroyed:function(){window.removeEventListener("scroll",this.checkLoad)}},_={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("layout",{attrs:{fullwidth:""}},[a("topbar",{attrs:{slot:"topbar"},slot:"topbar"}),t._v(" "),a("div",{staticClass:"coin-table"},[a("div",{staticClass:"inner"},[a("div",{staticClass:"theader"},[a("div",{staticClass:"col",on:{click:function(i){t.setOrder("rank")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            #\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("name")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            币种\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("marketcap")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            市值\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("price")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            价格\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("volume_24h")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            成交量(24h)\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("change_24h")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            涨跌幅(24h)\n          ")])]),t._v(" "),a("div",{staticClass:"col",on:{click:function(i){t.setOrder("range")}}},[a("div",{staticClass:"btn primary"},[t._v("\n            近期走势(7d)\n          ")])])]),t._v(" "),a("div",{staticClass:"tbody"},t._l(t.list,function(i){return a("div",{key:i.id,staticClass:"row item",on:{click:function(a){t.$router.push({path:"/coin/p/"+i.id})}}},[a("div",{staticClass:"col"},[t._v("\n            "+t._s(i.rank)+"\n          ")]),t._v(" "),a("div",{staticClass:"col left"},[a("div",{staticClass:"col-inner"},[a("img",{staticClass:"coin-logo",attrs:{src:i.image,width:"20",height:"20"}}),t._v(" "),a("b",[t._v("\n                "+t._s(i.name)+"\n              ")])])]),t._v(" "),a("div",{staticClass:"col"},[t._v("\n            "+t._s(t._f("currency")(i.marketcap))+"\n          ")]),t._v(" "),a("div",{staticClass:"col"},[t._v("\n            "+t._s(t._f("currency")(i.price))+"\n          ")]),t._v(" "),a("div",{staticClass:"col"},[t._v("\n            "+t._s(t._f("currency")(i.volume_24h))+"\n          ")]),t._v(" "),a("div",{staticClass:"col"},[t._v("\n            "+t._s(i.change_24h)+"%\n          ")]),t._v(" "),a("div",{staticClass:"col"},[a("mini-chart",{attrs:{data:i.chart}})],1)])})),t._v(" "),a("div",{ref:"loadMore"})])]),t._v(" "),a("footerBar",{attrs:{slot:"footer"},slot:"footer"})],1)},staticRenderFns:[]};var p=a("VU/8")(m,_,!1,function(t){a("H5YJ")},"data-v-521d7648",null);i.default=p.exports}});